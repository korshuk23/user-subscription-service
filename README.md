# Subscription Service

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ Spring Boot 3 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∏—Ö –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã (YouTube Premium, VK –ú—É–∑—ã–∫–∞, Netflix –∏ –¥—Ä.).

- –Ø–∑—ã–∫: **Java 17**
- –ë–î: **PostgreSQL**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: **Swagger**
- –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫: **Docker / Docker Compose**
- –ú–∏–≥—Ä–∞—Ü–∏–∏: **Liquibase**

---

##  –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`/users`)
- `POST /users` ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /users/{id}` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `PUT /users/{id}` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DELETE /users/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü–æ–¥–ø–∏—Å–∫–∏ (`/users/{id}/subscriptions`)
- `POST` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- `GET` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DELETE /{sub_id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É

### –¢–æ–ø –ø–æ–¥–ø–∏—Å–æ–∫
- `GET /subscriptions/top` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –¢–û–ü-3 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫

---

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- `User` ‚Äî —Å—É—â–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `Subscription` ‚Äî —Å—É—â–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
- `UserService` / `SubscriptionService` ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- `UserController` / `SubscriptionController`/ `SubscriptionAnalyticsController` ‚Äî REST-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
- `UserRepository` / `SubscriptionRepository` ‚Äî JPA-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- `SubscriptionMapper` / `UserMapper`  ‚Äî –º–∞–ø–ø–∏–Ω–≥ DTO ‚Üî Entity
- `GlobalExceptionHandler` ‚Äî –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö HTTP-–æ—Ç–≤–µ—Ç–æ–≤ —Å –Ω—É–∂–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏.

---

##  –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Java 17
- Spring Boot 3
- Spring Web, Spring Data JPA
- PostgreSQL
- Liquibase (–º–∏–≥—Ä–∞—Ü–∏–∏)
- SLF4J (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- MapStruct (–º–∞–ø–ø–∏–Ω–≥ DTO)
- Swagger / SpringDoc OpenAPI
- Docker / Docker Compose
- Gradle
- JUnit 5, Mockito (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

##  –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- `SubscriptionServiceTest` ‚Äî –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞, –≤–∫–ª—é—á–∞—è –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- `UserServiceTest` ‚Äî –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞, –≤–∫–ª—é—á–∞—è –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

---

##  –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 17
- Docker + Docker Compose

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
./gradlew clean build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–æ–º–æ—â—å—é Docker Compose
docker-compose up --build